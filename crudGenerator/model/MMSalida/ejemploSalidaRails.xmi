<?xml version="1.0" encoding="ASCII"?>
<Application
    xmi:version="2.0"
    xmlns:xmi="http://www.omg.org/XMI"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns="http://www.example.org/crudRailsGenerator"
    xsi:schemaLocation="http://www.example.org/crudRailsGenerator crudRailsGenerator.ecore"
    name="ejemplo">
  <entities
      name="Estudiante">
    <attributes
        name="nombre"
        dataType="string">
      <validations/>
    </attributes>
    <attributes
        name="apellido"
        dataType="string">
      <validations/>
    </attributes>
    <attributes
        name="fecha_nacimiento"
        dataType="date"/>
    <service
        name="/admin/estudiantes"
        allowCreate="true"
        allowRead="true"
        allowUpdate="true"
        allowDelete="true">
      <fields
          name="nombre"
          dataType="string"/>
      <fields
          name="apellido"
          dataType="string"/>
      <fields
          name="fecha_nacimiento"
          dataType="date"/>
      <fields
          name="curso_ids"
          dataType="array"/>
    </service>
    <associationAsSource
        sourceName="estudiantes"
        targetName="cursos"
        manySource="true"
        manyTarget="true"
        target="//@entities.1"/>
  </entities>
  <entities
      name="Curso"
      associationAsTarget="//@entities.0/@associationAsSource.0">
    <attributes
        name="nombre"
        dataType="string">
      <validations/>
    </attributes>
    <attributes
        name="codigo"
        dataType="string"/>
    <attributes
        name="descripcion"
        dataType="text"/>
    <attributes
        name="periodo_academico_id"/>
    <service
        name="/admin/cursos"
        allowCreate="true"
        allowRead="true"
        allowUpdate="true"
        allowDelete="true">
      <fields
          name="nombre"
          dataType="string"/>
      <fields
          name="codigo"
          dataType="string"/>
      <fields
          name="descripcion"
          dataType="text"/>
      <fields
          name="estudiante_ids"
          dataType="array"/>
      <fields
          name="periodo_academico_id"/>
    </service>
    <associationAsSource
        sourceName="cursos"
        targetName="periodo_academico"
        manySource="true"
        target="//@entities.2"/>
  </entities>
  <entities
      name="PeriodoAcademico"
      associationAsTarget="//@entities.1/@associationAsSource.0">
    <attributes
        name="nombre"
        dataType="string">
      <validations/>
    </attributes>
    <attributes
        name="fecha_inicio"
        dataType="date">
      <validations/>
    </attributes>
    <attributes
        name="fecha_fin"
        dataType="date">
      <validations/>
    </attributes>
    <service
        name="/admin/periodo_academicos"
        allowCreate="true"
        allowRead="true"
        allowUpdate="true"
        allowDelete="true">
      <fields
          name="nombre"
          dataType="string"/>
      <fields
          name="fecha_inicio"
          dataType="date"/>
      <fields
          name="fecha_fin"
          dataType="date"/>
    </service>
  </entities>
</Application>
